<!DOCTYPE html>
    <html lang="pt-BR">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Quiz Interativo</title>
            <style>
                * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }

                body {
                    font-family: 'Arial', sans-serif;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    min-height: 100vh;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    overflow: hidden;
                }

                .quiz-container {
                    background: white;
                    border-radius: 20px;
                    padding: 40px;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
                    max-width: 800px;
                    width: 90%;
                    position: relative;
                    overflow: hidden;
                    max-height: 90vh;
                    overflow-y: auto;
                }

                .quiz-container::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 5px;
                    background: linear-gradient(90deg, #4285f4 0%, #9c27b0 100%);
                    border-radius: 20px 20px 0 0;
                }

                .screen {
                    text-align: center;
                    opacity: 0;
                    transform: translateY(50px);
                    transition: all 0.5s ease-in-out;
                }

                .screen.active {
                    opacity: 1;
                    transform: translateY(0);
                }

                .progress-bar {
                    width: 100%;
                    height: 8px;
                    background: #e0e0e0;
                    border-radius: 10px;
                    margin-bottom: 30px;
                    overflow: hidden;
                }

                .progress-fill {
                    height: 100%;
                    background: linear-gradient(90deg, #4285f4 0%, #9c27b0 100%);
                    border-radius: 10px;
                    transition: width 0.5s ease;
                    width: 0%;
                }

                h1 {
                    color: #333;
                    margin-bottom: 30px;
                    font-size: 2.5em;
                    background: linear-gradient(45deg, #4285f4, #9c27b0);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }

                h2 {
                    color: #333;
                    margin-bottom: 20px;
                    font-size: 2em;
                    background: linear-gradient(45deg, #4285f4, #9c27b0);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }

                .question-text {
                    font-size: 1.8em;
                    color: #333;
                    margin-bottom: 40px;
                    line-height: 1.4;
                }

                .question-number {
                    font-size: 1.2em;
                    color: #666;
                    margin-bottom: 20px;
                }

                .buttons-container {
                    display: flex;
                    gap: 30px;
                    justify-content: center;
                    margin-bottom: 30px;
                }

                .answer-btn {
                    padding: 20px 50px;
                    font-size: 1.4em;
                    border: none;
                    border-radius: 50px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-weight: bold;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    position: relative;
                    overflow: hidden;
                }

                .answer-btn::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    transition: left 0.5s;
                    z-index: -1;
                }

                .answer-btn:hover::before {
                    left: 0;
                }

                .true-btn {
                    background: linear-gradient(45deg, #4CAF50, #66BB6A);
                    color: white;
                    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
                }

                .true-btn::before {
                    background: linear-gradient(45deg, #66BB6A, #4CAF50);
                }

                .false-btn {
                    background: linear-gradient(45deg, #f44336, #ef5350);
                    color: white;
                    box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
                }

                .false-btn::before {
                    background: linear-gradient(45deg, #ef5350, #f44336);
                }

                .answer-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
                }

                .main-btn {
                    background: linear-gradient(45deg, #4285f4, #9c27b0);
                    color: white;
                    padding: 20px 40px;
                    font-size: 1.3em;
                    border: none;
                    border-radius: 50px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-weight: bold;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    margin: 10px;
                }

                .main-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 10px 25px rgba(66, 133, 244, 0.3);
                }

                .result-icon {
                    font-size: 100px;
                    margin-bottom: 20px;
                    animation: bounceIn 0.8s ease;
                }

                .correct {
                    color: #4CAF50;
                }

                .incorrect {
                    color: #f44336;
                }

                .explanation {
                    font-size: 1.5em;
                    color: #333;
                    line-height: 1.5;
                    margin-bottom: 30px;
                    padding: 20px;
                    background: #f8f9fa;
                    border-radius: 15px;
                    border-left: 5px solid;
                }

                .explanation.correct-explanation {
                    border-left-color: #4CAF50;
                }

                .explanation.incorrect-explanation {
                    border-left-color: #f44336;
                }

                .next-btn {
                    background: linear-gradient(45deg, #4285f4, #9c27b0);
                    color: white;
                    padding: 15px 30px;
                    font-size: 1.2em;
                    border: none;
                    border-radius: 25px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-weight: bold;
                }

                .next-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 20px rgba(66, 133, 244, 0.3);
                }

                .final-score {
                    font-size: 2em;
                    color: #333;
                    margin-bottom: 20px;
                }

                .score-details {
                    font-size: 1.3em;
                    color: #666;
                    margin-bottom: 30px;
                }

                /* Formul√°rio de Registro */
                .form-group {
                    margin-bottom: 25px;
                    text-align: left;
                }

                .form-group label {
                    display: block;
                    font-size: 1.2em;
                    color: #333;
                    margin-bottom: 10px;
                    font-weight: bold;
                }

                .form-group input {
                    width: 100%;
                    padding: 15px 20px;
                    font-size: 1.1em;
                    border: 2px solid #ddd;
                    border-radius: 25px;
                    transition: all 0.3s ease;
                    background: #f8f9fa;
                }

                .form-group input:focus {
                    outline: none;
                    border-color: #4285f4;
                    background: white;
                    box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
                }

                /* Ranking */
                .ranking-container {
                    background: #f8f9fa;
                    border-radius: 15px;
                    padding: 25px;
                    margin: 20px 0;
                    max-height: 400px;
                    overflow-y: auto;
                }

                .ranking-item {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 15px 20px;
                    background: white;
                    border-radius: 10px;
                    margin-bottom: 10px;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                    transition: transform 0.2s ease;
                }

                .ranking-item:hover {
                    transform: translateX(5px);
                }

                .ranking-position {
                    font-size: 1.5em;
                    font-weight: bold;
                    color: #4285f4;
                    margin-right: 15px;
                }

                .ranking-team {
                    flex-grow: 1;
                    text-align: left;
                    font-size: 1.2em;
                    color: #333;
                    font-weight: bold;
                }

                .ranking-score {
                    font-size: 1.3em;
                    font-weight: bold;
                    padding: 8px 15px;
                    border-radius: 20px;
                    color: white;
                }

                .gold {
                    background: linear-gradient(45deg, #ffd700, #ffb300);
                }

                .silver {
                    background: linear-gradient(45deg, #c0c0c0, #a8a8a8);
                }

                .bronze {
                    background: linear-gradient(45deg, #cd7f32, #b8860b);
                }

                .regular {
                    background: linear-gradient(45deg, #4285f4, #9c27b0);
                }

                .team-display {
                    font-size: 1.4em;
                    color: #4285f4;
                    font-weight: bold;
                    margin-bottom: 20px;
                    padding: 10px 20px;
                    background: #e3f2fd;
                    border-radius: 25px;
                    display: inline-block;
                }

                @keyframes bounceIn {
                    0% {
                        opacity: 0;
                        transform: scale(0.3);
                    }
                    50% {
                        opacity: 1;
                        transform: scale(1.05);
                    }
                    100% {
                        opacity: 1;
                        transform: scale(1);
                    }
                }

                .fade-out {
                    opacity: 0;
                    transform: translateY(-50px);
                }

                .svg-icon {
                    width: 120px;
                    height: 120px;
                    margin: 0 auto 20px;
                    animation: bounceIn 0.8s ease;
                }

                .hidden {
                    display: none;
                }

                .stats-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 20px;
                    margin: 20px 0;
                }

                .stat-card {
                    background: #f8f9fa;
                    padding: 20px;
                    border-radius: 15px;
                    text-align: center;
                }

                .stat-number {
                    font-size: 2em;
                    font-weight: bold;
                    color: #4285f4;
                }

                .stat-label {
                    font-size: 1.1em;
                    color: #666;
                    margin-top: 5px;
                }
            </style>
        </head>
        <body>
            <div class="quiz-container">
                <!-- Tela Inicial -->
                <div class="screen active" id="startScreen">
                    <h1>üè• Quiz SUS - Art. 46</h1>
                    <div class="svg-icon">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="susGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#4285f4"/>
                                    <stop offset="100%" style="stop-color:#9c27b0"/>
                                </linearGradient>
                            </defs>
                            <rect x="60" y="80" width="80" height="60" fill="url(#susGrad)" rx="10"/>
                            <rect x="90" y="50" width="20" height="40" fill="white"/>
                            <rect x="80" y="60" width="40" height="20" fill="white"/>
                            <circle cx="100" cy="40" r="15" fill="#4CAF50"/>
                            <path d="M90,40 L98,48 L110,32" stroke="white" stroke-width="3" fill="none"/>
                        </svg>
                    </div>
                    <p style="font-size: 1.3em; color: #666; margin-bottom: 30px;">
                        Teste seus conhecimentos sobre o Artigo 46 da Lei 8.080/90 do SUS!
                    </p>
                    <button class="main-btn" id="startQuizBtn">Come√ßar Quiz</button>
                    <button class="main-btn" id="showRankingBtn" style="background: linear-gradient(45deg, #ff6b35, #f7931e);">Ver Ranking</button>
                </div>

                <!-- Tela de Registro da Equipe -->
                <div class="screen" id="teamRegistrationScreen">
                    <h2>üìù Registro da Equipe</h2>
                    <div class="svg-icon">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="teamGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#4285f4"/>
                                    <stop offset="100%" style="stop-color:#9c27b0"/>
                                </linearGradient>
                            </defs>
                            <circle cx="80" cy="70" r="25" fill="url(#teamGrad)"/>
                            <circle cx="120" cy="70" r="25" fill="url(#teamGrad)"/>
                            <circle cx="100" cy="110" r="25" fill="url(#teamGrad)"/>
                            <circle cx="75" cy="65" r="8" fill="white"/>
                            <circle cx="85" cy="65" r="8" fill="white"/>
                            <circle cx="115" cy="65" r="8" fill="white"/>
                            <circle cx="125" cy="65" r="8" fill="white"/>
                            <circle cx="95" cy="105" r="8" fill="white"/>
                            <circle cx="105" cy="105" r="8" fill="white"/>
                        </svg>
                    </div>
                    <div class="form-group">
                        <label for="teamName">Nome da Equipe:</label>
                        <input type="text" id="teamName" placeholder="Digite o nome da sua equipe..." maxlength="30">
                    </div>
                    <button class="main-btn" id="startTeamQuizBtn">Iniciar Quiz</button>
                    <button class="main-btn" id="backToStartBtn1" style="background: linear-gradient(45deg, #666, #999);">Voltar</button>
                </div>

                <!-- Tela de Pergunta -->
                <div class="screen" id="questionScreen">
                    <div class="team-display" id="teamDisplay"></div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="question-number" id="questionNumber"></div>
                    <div class="question-text" id="questionText"></div>
                    <div class="buttons-container">
                        <button class="answer-btn true-btn" id="answerTrueBtn">‚úì Verdadeiro</button>
                        <button class="answer-btn false-btn" id="answerFalseBtn">‚úó Falso</button>
                    </div>
                </div>

                <!-- Tela de Resultado -->
                <div class="screen" id="resultScreen">
                    <div class="team-display" id="teamDisplayResult"></div>
                    <div class="svg-icon" id="resultIcon"></div>
                    <div class="result-icon" id="resultEmoji"></div>
                    <div class="explanation" id="explanation"></div>
                    <button class="next-btn" id="nextBtn">Pr√≥xima Pergunta</button>
                </div>

                <!-- Tela Final -->
                <div class="screen" id="finalScreen">
                    <div class="team-display" id="teamDisplayFinal"></div>
                    <div class="svg-icon">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="trophyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ffd700"/>
                                    <stop offset="100%" style="stop-color:#ffb300"/>
                                </linearGradient>
                            </defs>
                            <ellipse cx="100" cy="170" rx="40" ry="10" fill="#ddd"/>
                            <rect x="90" y="130" width="20" height="40" fill="#8d6e63"/>
                            <path d="M60,130 L140,130 L130,70 L70,70 Z" fill="url(#trophyGrad)"/>
                            <circle cx="100" cy="70" r="25" fill="url(#trophyGrad)"/>
                            <path d="M50,90 Q40,70 50,50 Q60,40 70,50" fill="url(#trophyGrad)"/>
                            <path d="M150,90 Q160,70 150,50 Q140,40 130,50" fill="url(#trophyGrad)"/>
                        </svg>
                    </div>
                    <div class="final-score" id="finalScore"></div>
                    <div class="score-details" id="scoreDetails"></div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="correctAnswers">0</div>
                            <div class="stat-label">Respostas Corretas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="teamPosition">-</div>
                            <div class="stat-label">Posi√ß√£o no Ranking</div>
                        </div>
                    </div>
                    <button class="main-btn" id="showRankingBtn2">Ver Ranking Completo</button>
                    <button class="main-btn" id="restartQuizBtn">Jogar Novamente</button>
                </div>

                <!-- Tela de Ranking -->
                <div class="screen" id="rankingScreen">
                    <h2>üèÜ Ranking das Equipes</h2>
                    <div class="ranking-container" id="rankingContainer">
                        <!-- Rankings ser√£o inseridos aqui -->
                    </div>
                    <button class="main-btn" id="backToStartBtn2">Voltar ao In√≠cio</button>
                </div>
            </div>

            <script>
                // Base de dados das perguntas - Art. 46 Lei 8.080/90
                const questions = [
                    {
                        id: 1,
                        question: "A produ√ß√£o nacional de vacinas contra a COVID-19 (Fiocruz & AstraZeneca e Butantan & Sinovac) √© exemplo pr√°tico do Art. 46 em a√ß√£o?",
                        answer: true,
                        explanation: "Verdadeiro! O Art. 46 da Lei 8.080/1990 prev√™ que o SUS estimule a transfer√™ncia de tecnologia para institui√ß√µes nacionais. As parcerias da Fiocruz com AstraZeneca e do Butantan com Sinovac inclu√≠ram transfer√™ncia de tecnologia para produ√ß√£o local das vacinas.",
                        icon: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="vaccineGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#4CAF50"/>
                                    <stop offset="100%" style="stop-color:#2E7D32"/>
                                </linearGradient>
                            </defs>
                            <rect x="90" y="60" width="20" height="80" fill="url(#vaccineGrad)" rx="10"/>
                            <circle cx="100" cy="50" r="15" fill="#FFC107"/>
                            <path d="M85,45 L115,45 L110,30 L90,30 Z" fill="#FFC107"/>
                            <circle cx="100" cy="170" r="25" fill="#E3F2FD"/>
                            <path d="M80,170 Q100,150 120,170" stroke="#2196F3" stroke-width="3" fill="none"/>
                        </svg>`
                    },
                    {
                        id: 2,
                        question: "Pesquisadores, profissionais de sa√∫de e empresas podem contribuir para que os avan√ßos cient√≠ficos e tecnol√≥gicos se transformem em melhorias concretas no SUS?",
                        answer: true,
                        explanation: "Verdadeiro! O Art. 46 estabelece que o SUS deve estimular ci√™ncia, tecnologia e inova√ß√£o. A integra√ß√£o entre pesquisadores, profissionais de sa√∫de e empresas transforma a pesquisa cient√≠fica em benef√≠cios reais para a popula√ß√£o.",
                        icon: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="techGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#2196F3"/>
                                    <stop offset="100%" style="stop-color:#1565C0"/>
                                </linearGradient>
                            </defs>
                            <circle cx="70" cy="80" r="20" fill="url(#techGrad)"/>
                            <circle cx="130" cy="80" r="20" fill="url(#techGrad)"/>
                            <circle cx="100" cy="130" r="20" fill="url(#techGrad)"/>
                            <path d="M70,100 L100,110 L130,100" stroke="#FF9800" stroke-width="4"/>
                            <path d="M85,95 L115,95" stroke="#FF9800" stroke-width="3"/>
                            <circle cx="100" cy="50" r="12" fill="#4CAF50"/>
                        </svg>`
                    },
                    {
                        id: 3,
                        question: "O SUS pode recorrer a servi√ßos privados apenas em casos de insufici√™ncia de recursos pr√≥prios para garantir cobertura assistencial?",
                        answer: true,
                        explanation: "Verdadeiro! O Art. 46 estabelece que a contrata√ß√£o de servi√ßos privados s√≥ acontece quando as disponibilidades do SUS n√£o forem suficientes para atender a popula√ß√£o, sendo uma medida excepcional.",
                        icon: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="hospitalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#f44336"/>
                                    <stop offset="100%" style="stop-color:#d32f2f"/>
                                </linearGradient>
                            </defs>
                            <rect x="60" y="80" width="80" height="80" fill="url(#hospitalGrad)" rx="5"/>
                            <rect x="90" y="50" width="20" height="40" fill="white"/>
                            <rect x="80" y="60" width="40" height="20" fill="white"/>
                            <rect x="70" y="100" width="15" height="20" fill="white"/>
                            <rect x="115" y="100" width="15" height="20" fill="white"/>
                            <rect x="70" y="130" width="15" height="20" fill="white"/>
                            <rect x="115" y="130" width="15" height="20" fill="white"/>
                        </svg>`
                    },
                    {
                        id: 4,
                        question: "O setor privado tem um papel complementar ao SUS conforme o Artigo 46?",
                        answer: true,
                        explanation: "Verdadeiro! O setor privado atua apenas quando o SUS n√£o consegue atender totalmente a popula√ß√£o, mostrando que sua fun√ß√£o √© complementar ao sistema p√∫blico, n√£o substitutiva.",
                        icon: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="complementGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#9C27B0"/>
                                    <stop offset="100%" style="stop-color:#6A1B9A"/>
                                </linearGradient>
                            </defs>
                            <rect x="40" y="60" width="60" height="80" fill="url(#complementGrad)" rx="10"/>
                            <rect x="100" y="60" width="60" height="80" fill="#E0E0E0" rx="10"/>
                            <path d="M70,40 L70,60" stroke="url(#complementGrad)" stroke-width="4"/>
                            <path d="M130,40 L130,60" stroke="#757575" stroke-width="4"/>
                            <circle cx="70" cy="35" r="8" fill="url(#complementGrad)"/>
                            <circle cx="130" cy="35" r="8" fill="#757575"/>
                            <path d="M90,100 L110,100" stroke="#4CAF50" stroke-width="6"/>
                        </svg>`
                    },
                    {
                        id: 5,
                        question: "A execu√ß√£o das a√ß√µes de vigil√¢ncia sanit√°ria, vigil√¢ncia epidemiol√≥gica, sa√∫de do trabalhador e assist√™ncia terap√™utica integral √© compartilhada entre Uni√£o, Estados, DF e Munic√≠pios?",
                        answer: true,
                        explanation: "Verdadeiro! O Art. 46 da Lei n¬∫ 8.080/90 estabelece que essas a√ß√µes s√£o comuns √† Uni√£o, aos Estados, ao Distrito Federal e aos Munic√≠pios, n√£o sendo exclusiva de um ente federativo.",
                        icon: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="federationGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#4CAF50"/>
                                    <stop offset="100%" style="stop-color:#2E7D32"/>
                                </linearGradient>
                            </defs>
                            <circle cx="100" cy="100" r="70" fill="none" stroke="url(#federationGrad)" stroke-width="8"/>
                            <circle cx="80" cy="70" r="15" fill="url(#federationGrad)"/>
                            <circle cx="120" cy="70" r="15" fill="url(#federationGrad)"/>
                            <circle cx="70" cy="130" r="15" fill="url(#federationGrad)"/>
                            <circle cx="130" cy="130" r="15" fill="url(#federationGrad)"/>
                            <circle cx="100" cy="100" r="10" fill="#FF9800"/>
                            <text x="80" y="75" fill="white" font-size="8" font-weight="bold">U</text>
                            <text x="120" y="75" fill="white" font-size="8" font-weight="bold">E</text>
                            <text x="70" y="135" fill="white" font-size="8" font-weight="bold">D</text>
                            <text x="130" y="135" fill="white" font-size="8" font-weight="bold">M</text>
                        </svg>`
                    },
                    {
                        id: 6,
                        question: "O Instituto Butantan, por ser uma institui√ß√£o p√∫blica, n√£o precisa atender √†s mesmas exig√™ncias de qualidade e fiscaliza√ß√£o aplicadas √†s institui√ß√µes privadas conveniadas ao SUS?",
                        answer: false,
                        explanation: "Falso! Tanto institui√ß√µes p√∫blicas quanto privadas que integram o SUS devem seguir padr√µes t√©cnicos e legais equivalentes. O Instituto Butantan tamb√©m est√° submetido a r√≠gidos crit√©rios de qualidade, controle sanit√°rio e fiscaliza√ß√£o pelos √≥rg√£os competentes.",
                        icon: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="qualityGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FF5722"/>
                                    <stop offset="100%" style="stop-color:#D84315"/>
                                </linearGradient>
                            </defs>
                            <rect x="50" y="80" width="100" height="60" fill="url(#qualityGrad)" rx="10"/>
                            <rect x="60" y="90" width="80" height="8" fill="white" rx="4"/>
                            <rect x="60" y="105" width="80" height="8" fill="white" rx="4"/>
                            <rect x="60" y="120" width="80" height="8" fill="white" rx="4"/>
                            <circle cx="100" cy="60" r="20" fill="#4CAF50"/>
                            <path d="M90,60 L98,68 L110,52" stroke="white" stroke-width="4" fill="none"/>
                            <rect x="85" y="150" width="30" height="15" fill="#795548" rx="3"/>
                        </svg>`
                    }
                ];

                // Sistema de armazenamento
                class QuizDatabase {
                    constructor() {
                        this.storageKey = 'quizTeamScores';
                    }

                    saveTeamScore(teamName, score, totalQuestions) {
                        const scores = this.getAllScores();
                        const percentage = Math.round((score / totalQuestions) * 100);
                        const timestamp = new Date().toISOString();
                        
                        const existingIndex = scores.findIndex(s => s.teamName.toLowerCase() === teamName.toLowerCase());
                        
                        if (existingIndex >= 0) {
                            if (percentage > scores[existingIndex].percentage) {
                                scores[existingIndex] = { teamName, score, totalQuestions, percentage, timestamp };
                            }
                        } else {
                            scores.push({ teamName, score, totalQuestions, percentage, timestamp });
                        }
                        
                        scores.sort((a, b) => b.percentage - a.percentage || new Date(b.timestamp) - new Date(a.timestamp));
                        localStorage.setItem(this.storageKey, JSON.stringify(scores));
                        return this.getTeamPosition(teamName);
                    }

                    getAllScores() {
                        const scores = localStorage.getItem(this.storageKey);
                        return scores ? JSON.parse(scores) : [];
                    }

                    getTeamPosition(teamName) {
                        const scores = this.getAllScores();
                        return scores.findIndex(s => s.teamName.toLowerCase() === teamName.toLowerCase()) + 1;
                    }

                    getTopScores(limit = 10) {
                        return this.getAllScores().slice(0, limit);
                    }
                }

                // Vari√°veis globais
                let currentQuestion = 0;
                let score = 0;
                let userAnswers = [];
                let currentTeamName = '';
                let database = new QuizDatabase();

                // Fun√ß√µes principais
                function showTeamRegistration() {
                    fadeOut('startScreen', () => {
                        showScreen('teamRegistrationScreen');
                        document.getElementById('teamName').focus();
                    });
                }

                function showRanking() {
                    const activeScreen = document.querySelector('.screen.active');
                    if (activeScreen) {
                        fadeOut(activeScreen.id, () => {
                            showScreen('rankingScreen');
                            displayRanking();
                        });
                    }
                }

                function startQuizWithTeam() {
                    const teamInput = document.getElementById('teamName');
                    const teamName = teamInput.value.trim();
                    
                    if (!teamName) {
                        alert('Por favor, digite o nome da equipe!');
                        teamInput.focus();
                        return;
                    }

                    if (teamName.length < 2) {
                        alert('O nome da equipe deve ter pelo menos 2 caracteres!');
                        teamInput.focus();
                        return;
                    }

                    currentTeamName = teamName;
                    
                    fadeOut('teamRegistrationScreen', () => {
                        showScreen('questionScreen');
                        updateTeamDisplay();
                        loadQuestion();
                    });
                }

                function updateTeamDisplay() {
                    const displays = ['teamDisplay', 'teamDisplayResult', 'teamDisplayFinal'];
                    displays.forEach(id => {
                        const element = document.getElementById(id);
                        if (element) {
                            element.textContent = `Equipe: ${currentTeamName}`;
                        }
                    });
                }

                function backToStart() {
                    const activeScreen = document.querySelector('.screen.active');
                    if (activeScreen) {
                        fadeOut(activeScreen.id, () => {
                            showScreen('startScreen');
                        });
                    }
                }

                function displayRanking() {
                    const container = document.getElementById('rankingContainer');
                    const topScores = database.getTopScores();
                    
                    if (topScores.length === 0) {
                        container.innerHTML = `
                            <div style="text-align: center; padding: 40px; color: #666; font-size: 1.2em;">
                                <p>üèÜ Nenhuma equipe registrada ainda!</p>
                                <p style="margin-top: 10px; font-size: 1em;">Seja a primeira equipe a jogar!</p>
                            </div>
                        `;
                        return;
                    }

                    let rankingHTML = '';
                    
                    topScores.forEach((team, index) => {
                        const position = index + 1;
                        let scoreClass = 'regular';
                        
                        if (position === 1) scoreClass = 'gold';
                        else if (position === 2) scoreClass = 'silver';
                        else if (position === 3) scoreClass = 'bronze';

                        const date = new Date(team.timestamp).toLocaleDateString('pt-BR');
                        
                        rankingHTML += `
                            <div class="ranking-item">
                                <div class="ranking-position">${position}¬∫</div>
                                <div class="ranking-team">
                                    ${team.teamName}
                                    <div style="font-size: 0.8em; color: #888; font-weight: normal;">
                                        ${team.score}/${team.totalQuestions} ‚Ä¢ ${date}
                                    </div>
                                </div>
                                <div class="ranking-score ${scoreClass}">${team.percentage}%</div>
                            </div>
                        `;
                    });
                    
                    container.innerHTML = rankingHTML;
                }

                function showScreen(screenId) {
                    document.querySelectorAll('.screen').forEach(screen => {
                        screen.classList.remove('active');
                        screen.classList.add('hidden');
                    });
                    
                    const targetScreen = document.getElementById(screenId);
                    targetScreen.classList.remove('hidden');
                    setTimeout(() => {
                        targetScreen.classList.add('active');
                    }, 100);
                }

                function fadeOut(elementId, callback) {
                    const element = document.getElementById(elementId);
                    element.classList.add('fade-out');
                    element.classList.remove('active');
                    setTimeout(() => {
                        callback();
                        element.classList.remove('fade-out');
                    }, 500);
                }

                function loadQuestion() {
                    const question = questions[currentQuestion];
                    document.getElementById('questionNumber').textContent = `Pergunta ${currentQuestion + 1} de ${questions.length}`;
                    document.getElementById('questionText').textContent = question.question;
                    
                    const progress = ((currentQuestion + 1) / questions.length) * 100;
                    document.getElementById('progressFill').style.width = `${progress}%`;
                }

                function answerQuestion(userAnswer) {
                    const question = questions[currentQuestion];
                    const isCorrect = userAnswer === question.answer;
                    
                    userAnswers.push({
                        question: question.question,
                        userAnswer: userAnswer,
                        correctAnswer: question.answer,
                        isCorrect: isCorrect
                    });

                    if (isCorrect) {
                        score++;
                    }

                    fadeOut('questionScreen', () => {
                        showScreen('resultScreen');
                        showResult(isCorrect, question);
                    });
                }

                function showResult(isCorrect, question) {
                    const resultIcon = document.getElementById('resultIcon');
                    const resultEmoji = document.getElementById('resultEmoji');
                    const explanation = document.getElementById('explanation');
                    const nextBtn = document.getElementById('nextBtn');

                    resultIcon.innerHTML = question.icon;

                    if (isCorrect) {
                        resultEmoji.textContent = '‚úÖ';
                        resultEmoji.className = 'result-icon correct';
                        explanation.textContent = question.explanation;
                        explanation.className = 'explanation correct-explanation';
                    } else {
                        resultEmoji.textContent = '‚ùå';
                        resultEmoji.className = 'result-icon incorrect';
                        explanation.textContent = question.explanation;
                        explanation.className = 'explanation incorrect-explanation';
                    }

                    // Remover event listeners anteriores
                    nextBtn.replaceWith(nextBtn.cloneNode(true));
                    const newNextBtn = document.getElementById('nextBtn');

                    if (currentQuestion === questions.length - 1) {
                        newNextBtn.textContent = 'Ver Resultado Final';
                        newNextBtn.addEventListener('click', showFinalScore);
                    } else {
                        newNextBtn.textContent = 'Pr√≥xima Pergunta';
                        newNextBtn.addEventListener('click', nextQuestion);
                    }
                }

                function nextQuestion() {
                    fadeOut('resultScreen', () => {
                        currentQuestion++;
                        showScreen('questionScreen');
                        loadQuestion();
                    });
                }

                function showFinalScore() {
                    const position = database.saveTeamScore(currentTeamName, score, questions.length);
                    
                    fadeOut('resultScreen', () => {
                        showScreen('finalScreen');
                        
                        const finalScore = document.getElementById('finalScore');
                        const scoreDetails = document.getElementById('scoreDetails');
                        const correctAnswers = document.getElementById('correctAnswers');
                        const teamPosition = document.getElementById('teamPosition');
                        
                        const percentage = Math.round((score / questions.length) * 100);
                        
                        finalScore.textContent = `Parab√©ns, ${currentTeamName}!`;
                        scoreDetails.textContent = `Voc√™s acertaram ${score} de ${questions.length} perguntas (${percentage}%)`;
                        correctAnswers.textContent = score;
                        teamPosition.textContent = `${position}¬∫`;
                        
                        let message = '';
                        if (percentage >= 90) message = 'Desempenho Excepcional! üèÜ';
                        else if (percentage >= 70) message = 'Muito Bom! ü•à';
                        else if (percentage >= 50) message = 'Bom Trabalho! ü•â';
                        else message = 'Continue Praticando! üí™';
                        
                        scoreDetails.innerHTML += `<br><strong>${message}</strong>`;
                    });
                }

                function restartQuiz() {
                    currentQuestion = 0;
                    score = 0;
                    userAnswers = [];
                    currentTeamName = '';
                    
                    fadeOut('finalScreen', () => {
                        showScreen('startScreen');
                        document.getElementById('progressFill').style.width = '0%';
                        document.getElementById('teamName').value = '';
                    });
                }

                // Inicializa√ß√£o
                document.addEventListener('DOMContentLoaded', () => {
                    // Event listeners para os bot√µes
                    document.getElementById('startQuizBtn').addEventListener('click', showTeamRegistration);
                    document.getElementById('showRankingBtn').addEventListener('click', showRanking);
                    document.getElementById('startTeamQuizBtn').addEventListener('click', startQuizWithTeam);
                    document.getElementById('backToStartBtn1').addEventListener('click', backToStart);
                    document.getElementById('backToStartBtn2').addEventListener('click', backToStart);
                    document.getElementById('answerTrueBtn').addEventListener('click', () => answerQuestion(true));
                    document.getElementById('answerFalseBtn').addEventListener('click', () => answerQuestion(false));
                    document.getElementById('showRankingBtn2').addEventListener('click', showRanking);
                    document.getElementById('restartQuizBtn').addEventListener('click', restartQuiz);
                    
                    // Submit do formul√°rio com Enter
                    document.getElementById('teamName').addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            startQuizWithTeam();
                        }
                    });
                    
                    // Inicializar todas as telas como hidden exceto a primeira
                    document.querySelectorAll('.screen').forEach((screen, index) => {
                        if (index > 0) {
                            screen.classList.add('hidden');
                        }
                    });
                });
            </script>
        </body>
    </html>